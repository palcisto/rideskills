---
import RSLogo from './svg/rs-logo';
import RightArrow from './icons/RightArrow.astro';
import { getImage } from 'astro:assets';
import heroImageSM from '../images/hero-image-sm.jpg';
import heroImageMD from '../images/hero-image-md.jpg';
import heroImageDesktop from '../images/hero-image-desktop.jpg';

export interface HomepageTemplateProps {}

const mobileImage = await getImage({
  src: heroImageSM,
  format: 'webp',
  width: 393,
  height: 802,
  densities: [1.5, 2],
});

const tabletImage = await getImage({
  src: heroImageMD,
  format: 'webp',
  width: 834,
  height: 1194,
  densities: [1.5, 2],
});

const desktopImage = await getImage({
  src: heroImageDesktop,
  format: 'webp',
  width: 1200,
  height: 775,
  densities: [1.5, 2],
});

const xlDesktopImage = await getImage({
  src: heroImageDesktop,
  format: 'webp',
  width: 1728,
  height: 1117,
  densities: [1.5, 2],
});
---

<header
  class="header absolute top-0 left-0 w-full p-6 md:p-8 lg:p-10 z-10 gradient"
>
  <div class="header__inner grid md:flex md:items-center md:justify-between">
    <RSLogo className="logo w-[39vw] md:w-[200px] lg:w-[250px] h-auto" />

    <nav
      class="navn-container hidden top-0 left-0 w-full h-full z-20 bg-primary flex-col justify-center items-center"
    >
      <ul class="nav flex flex-col items-center gap-3">
        <li class="nav__item"><a href="">Lessons</a></li>
        <li class="nav__item"><a href="">Testimonials</a></li>
      </ul>
      <ul class="flex gap-3 mt-6">
        <li><a href="https://www.instagram.com/rideskills.bike">IG</a></li>
        <li><a href="https://www.facebook.com/rideskills.bike.clt">FB</a></li>
      </ul>
      <button class="js-close-menu">
        <span class="sr-only">Close Menu</span>
      </button>
    </nav>
    <button class="menu-toggle js-open-menu">
      <span class="sr-only">Menu</span>
    </button>
  </div>
</header>

<section
  class="relative h-screen w-screen pt-28 md:pt-52 md:px-8 lg:px-16 flex flex-col items-center md:items-start"
>
  <picture class="inset-0 absolute z-0 hero-image">
    <source
      media="(max-width: 393px)"
      type="image/webp"
      srcset={mobileImage.srcSet.attribute}
    />
    <source
      media="(max-width: 834px)"
      type="image/webp"
      srcset={tabletImage.srcSet.attribute}
    />
    <source
      media="(max-width: 1200px)"
      type="image/webp"
      srcset={desktopImage.srcSet.attribute}
    />
    <source
      media="(min-width: 1201px)"
      type="image/webp"
      srcset={xlDesktopImage.srcSet.attribute}
      }
    />
    <img
      src={desktopImage.src}
      width="1200"
      height="775"
      fetchpriority="high"
      alt="hero image"
    />
  </picture>

  <h1
    class="hero__heading leading-[0.8] relative z-10 uppercase inline-flex flex-col gap-y-[2px] items-center md:items-start"
  >
    <span class="inline-flex gap-x-3">
      <span
        class="hero__heading__text bg-primary/80 inline-block text-white font-display"
        >Ride With</span
      >
      <RightArrow
        class="rs-right-arrow w-[0.7em] lg:w-[0.62em] h-auto inline-block"
      />
    </span>
    <span
      class="hero__heading__text bg-primary/80 inline-block text-white font-display tracking-[.075em]"
      >Confidence</span
    >
  </h1>
  <p class="hidden">
    At Ride Skills, we believe a confident rider is a better rider and a better
    rider is a happier rider.
  </p>
  <a class="hidden" href="#">Book A Lesson</a>
</section>

<main>
  <section class="hidden">
    <div>
      <svg></svg>
      <h2>Private Mountain Bike Lesson</h2>
      <ul>
        <li>Personalized coaching</li>
        <li>1-4 people of all ability levels</li>
        <li>2 hour minimum</li>
      </ul>
      <p>
        1 on 1 bike mountain bike coaching is the quickest way to increase your
        mtb skill set. We can work on what you want to learn if you have
        something specific in mind or I can come up with a lesson plan through
        the use of a questionnaire and skills assessment.
      </p>
      <a href="#booknow">Book Now</a>
    </div>
    <div>
      <svg></svg>
      <h2>Group Mountain Bike Lesson</h2>
      <ul>
        <li>Personalized coaching</li>
        <li>5-7 people of all ability levels</li>
        <li>3 hour minimum</li>
      </ul>
      <p>
        1 on 1 bike mountain bike coaching is the quickest way to increase your
        mtb skill set. We can work on what you want to learn if you have
        something specific in mind or I can come up with a lesson plan through
        the use of a questionnaire and skills assessment.
      </p>
      <a href="#booknow">Book Now</a>
    </div>
  </section>
</main>

<style lang="scss">
  @use '../styles/mixins' as *;

  .header {
    background-image: linear-gradient(
      to bottom,
      rgb(var(--color-primary-rgb) / 75%),
      rgb(var(--color-primary-rgb) / 3%) 93%,
      rgb(var(--color-primary-rgb) / 0)
    );
    min-height: 113px;
  }

  .header__inner {
    grid-template-columns: 45px 1fr 45px;
    grid-template-rows: fit-content(100%) auto;
  }

  .logo {
    filter: drop-shadow(0px 4px 8px rgb(0 0 0 / 35%));
    grid-column: 2 / 3;
    grid-row: 1 / 2;
    place-self: center;
  }

  .nav {
    list-style: none;
    padding: 0;
    margin: 0;

    @media (min-width: 900px) {
      display: flex;
      gap: 32px;
    }

    &__item {
      font-family: var(--font-display);
      font-size: 1.5rem;

      a,
      a:link {
        color: var(--color-white);
        text-decoration: none;

        @media (min-width: 768px) {
          text-shadow: 0 4px 8px rgb(0 0 0 / 45%);
        }
      }

      a:hover {
        text-decoration: underline;
        text-underline-offset: 2px;
      }
    }
  }

  .menu-toggle {
    align-self: center;
    grid-column: 3 / 4;
    grid-row: 1 / 1;
    justify-self: end;
    border: 0;
    padding: 0;
    position: relative;

    &,
    &::before,
    &::after {
      background-color: var(--color-white);
      border-radius: 2px;
      display: block;
      width: 18px;
      height: 2px;
    }

    &::before,
    &::after {
      content: '';
      position: absolute;
    }

    &::before {
      top: -5px;
    }

    &::after {
      top: 5px;
    }

    @include for-size(tablet-landscape-up) {
      display: none;
    }
  }

  .hero-image img {
    height: 100%;
    width: 100%;
    object-fit: cover;
  }

  .hero__heading {
    font-size: clamp(2rem, 1.174rem + 4.13vw, 4.375rem);

    &__text {
      padding-left: clamp(0.625rem, 0.451rem + 0.87vw, 1.125rem);
      padding-right: clamp(0.625rem, 0.451rem + 0.87vw, 1.125rem);
      padding-bottom: clamp(0.5rem, 0.326rem + 0.87vw, 1rem);
      padding-top: clamp(0.5rem, 0.326rem + 0.87vw, 1rem);
    }
  }

  .rs-right-arrow {
  }
</style>
